module MathUtil;

import Random::{ Random, generate_F64_2 };

namespace MathUtil {
    pi : F64 = 3.14159265358979;

    sin : F64 -> F64;
    sin = |a| FFI_CALL[F64 sin(F64), a];

    cos : F64 -> F64;
    cos = |a| FFI_CALL[F64 cos(F64), a];

    tan : F64 -> F64;
    tan = |a| FFI_CALL[F64 tan(F64), a];

    sqrt : F64 -> F64;
    sqrt = |v| FFI_CALL[F64 sqrt(F64), v];

    pow5 : F64 -> F64;
    pow5 = |v| v * v * v * v * v;

    degrees_to_radians : F64 -> F64;
    degrees_to_radians = |degrees| degrees * pi / 180.0;

    random_in_range : F64 -> F64 -> Random::Random -> (Random::Random, F64);
    random_in_range = |min, max, rand| (
        let (rand, value) = generate_F64_2(rand);

        (rand, min + (max - min) * value)
    );

    clamp : F64 -> F64 -> F64 -> F64;
    clamp = |min, max, x| (
        if (x < min) {
            min
        } else if (max < x) {
            max
        } else {
            x
        }
    );
}